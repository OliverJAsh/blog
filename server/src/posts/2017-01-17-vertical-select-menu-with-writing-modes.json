{
    "title": "Vertical select menu with writing modes",
    "date": "2017-01-17",
    "body": "<p>What if you have a select menu that you want to be displayed vertically? The CSS <code>writing-mode</code> property allows you to specify the flow direction of content, but unfortunately there is <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=681917\">a bug in Chrome and Safari whereby select menus don’t honour vertical writing modes</a>. (It works in Firefox.)</p><p>I wanted to achieve this effect without magic numbers, keeping the select menu in the layout and flow of the document. This way, the element’s positioning and dimensions will continue to respond to its contents and surrounding elements.</p><p>The way I achieved this was using the infamous <code>padding-bottom</code> trick. Percentage values provided to <code>padding-bottom</code> are proportional to the container element’s width. This rule has little to no intuition (at least to me), but that’s just the way the box model works—and it opens doors to hacks such as this (also, <a href=\"http://stackoverflow.com/questions/1495407/maintain-the-aspect-ratio-of-a-div-with-css\">aspect ratios</a>).</p><p>By placing the select menu and a placeholder element inside an inline-block container, I can use <code>padding-bottom: 100%</code> on the placeholder element to reserve whitespace with a height equal to the width of the parent, which is derived from its contents (the select menu). If the select menu changes in width, our placeholder changes in height to match.</p><p data-height=\"265\" data-theme-id=\"0\" data-slug-hash=\"vgyRpr\" data-default-tab=\"css,result\" data-user=\"OliverJAsh\" data-embed-version=\"2\" data-pen-title=\"vgyRpr\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/OliverJAsh/pen/vgyRpr/\">vgyRpr</a> by Oliver Joseph Ash (<a href=\"http://codepen.io/OliverJAsh\">@OliverJAsh</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script><p>Next we can use transforms to rotate our element so it appears in the space reserved by our placeholder element.</p><p data-height=\"265\" data-theme-id=\"0\" data-slug-hash=\"YNpaaL\" data-default-tab=\"css,result\" data-user=\"OliverJAsh\" data-embed-version=\"2\" data-pen-title=\"YNpaaL\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/OliverJAsh/pen/YNpaaL/\">YNpaaL</a> by Oliver Joseph Ash (<a href=\"http://codepen.io/OliverJAsh\">@OliverJAsh</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script><p>Finally, we need to nudge the select menu up to negate its original place in the document flow before we used transforms to rotate it. This requires one magic number which, fortunately, is easy to calculate up front: the height of the select menu=font size * line height. We can use this value as a negative margin top on the select menu.</p><p data-height=\"265\" data-theme-id=\"0\" data-slug-hash=\"wgommZ\" data-default-tab=\"css,result\" data-user=\"OliverJAsh\" data-embed-version=\"2\" data-pen-title=\"wgommZ\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/OliverJAsh/pen/wgommZ/\">wgommZ</a> by Oliver Joseph Ash (<a href=\"http://codepen.io/OliverJAsh\">@OliverJAsh</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script><p>Final result:</p><p data-height=\"265\" data-theme-id=\"0\" data-slug-hash=\"oBYqdE\" data-default-tab=\"css,result\" data-user=\"OliverJAsh\" data-embed-version=\"2\" data-pen-title=\"oBYqdE\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/OliverJAsh/pen/oBYqdE/\">oBYqdE</a> by Oliver Joseph Ash (<a href=\"http://codepen.io/OliverJAsh\">@OliverJAsh</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script><p>This technique should work for any element which doesn’t honour writing modes, although at the time of writing I’m not quite sure what that could be.</p>"
}
